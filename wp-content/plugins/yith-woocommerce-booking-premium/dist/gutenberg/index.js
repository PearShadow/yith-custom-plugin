(()=>{var e,o={358:(e,o,t)=>{"use strict";const r=window.wp.blocks,s=window.wp.i18n,n=window.ReactJSXRuntime,l=(0,n.jsx)("svg",{children:(0,n.jsx)("path",{width:"22",height:"22",d:"M 18.24 7.628 C 17.291 8.284 16.076 8.971 14.587 9.688 C 15.344 7.186 15.765 4.851 15.849 2.684 C 15.912 0.939 15.133 0.045 13.514 0.003 C 11.558 -0.06 10.275 1.033 9.665 3.284 C 10.007 3.137 10.359 3.063 10.723 3.063 C 11.021 3.063 11.267 3.184 11.459 3.426 C 11.651 3.668 11.736 3.947 11.715 4.262 C 11.695 5.082 11.276 5.961 10.46 6.896 C 9.644 7.833 8.918 8.3 8.282 8.3 C 7.837 8.3 7.625 7.922 7.646 7.165 C 7.667 6.765 7.804 5.955 8.056 4.735 C 8.287 3.579 8.403 2.801 8.403 2.401 C 8.403 1.707 8.224 1.144 7.867 0.713 C 7.509 0.282 6.994 0.098 6.321 0.161 C 5.858 0.203 5.175 0.624 4.27 1.422 C 3.596 2.035 2.923 2.644 2.25 3.254 L 2.976 4.106 C 3.564 3.664 3.922 3.443 4.048 3.443 C 4.448 3.443 4.637 3.717 4.617 4.263 C 4.617 4.306 4.427 4.968 4.049 6.251 C 3.671 7.534 3.471 8.491 3.449 9.122 C 3.407 9.985 3.565 10.647 3.924 11.109 C 4.367 11.677 5.106 11.919 6.142 11.835 C 7.366 11.751 8.591 11.298 9.816 10.479 C 10.323 10.142 10.808 9.753 11.273 9.311 C 11.105 10.153 10.905 10.868 10.673 11.457 C 8.402 12.487 6.762 13.37 5.752 14.107 C 4.321 15.137 3.554 16.241 3.449 17.419 C 3.259 19.459 4.29 20.479 6.541 20.479 C 8.055 20.479 9.517 19.554 10.926 17.703 C 12.125 16.126 13.166 14.022 14.049 11.394 C 15.578 10.635 16.87 9.892 17.928 9.164 C 17.894 9.409 18.319 7.308 18.24 7.628 Z  M 7.393 16.095 C 7.056 16.095 6.898 15.947 6.919 15.653 C 6.961 15.106 7.908 14.38 9.759 13.476 C 8.791 15.221 8.002 16.095 7.393 16.095 Z"})}),c=window.wp.components,i=window.wp.blockEditor,a=window.wp.url;var d=t(556),u=t.n(d);const h=window.wp.compose,m=window.React,b=window.wp.apiFetch;var p=t.n(b);const g=window.lodash,y=({queryArgs:e={},...o})=>(e.type="booking",(({selected:e=[],search:o="",queryArgs:t={}})=>{const r=(({selected:e=[],search:o="",queryArgs:t={}})=>{const r=bkBlocks.productCount>100,s={per_page:r?100:0,catalog_visibility:"any",search:o,orderby:"title",order:"asc"},n=[(0,a.addQueryArgs)("/wc/store/products",{...s,...t})];return r&&e.length&&n.push((0,a.addQueryArgs)("/wc/store/products",{catalog_visibility:"any",include:e,per_page:0})),n})({selected:e,search:o,queryArgs:t});return Promise.all(r.map((e=>p()({path:e})))).then((e=>(0,g.uniqBy)((0,g.flatten)(e),"id").map((e=>({...e,parent:0}))))).catch((e=>{throw e}))})({...o,queryArgs:e})),f=e=>({selected:o,asyncSearch:t,loadItems:r,queryArgs:s,...l})=>{const[c,i]=(0,m.useState)(!0),[a,d]=(0,m.useState)(!0),[u,b]=(0,m.useState)([]),[p,g]=(0,m.useState)(""),y=(0,h.useDebounce)((e=>{r({selected:o,search:e,queryArgs:s||{}}).then((e=>{b(e),i(!1),d(!1)}))}),300);return t&&(0,m.useEffect)((()=>{i(!0),y(p)}),[p]),(0,m.useEffect)((()=>{i(!0);let e={...s||{}};t&&(e.limit=20),r({selected:o,queryArgs:e}).then((e=>{b(e),i(!1),d(!1)}))}),[]),(0,n.jsx)(e,{selected:o,...l,search:p,onSearch:g,isLoading:c,ifFirstLoading:a,list:u})},k={clear:(0,s.__)("Clear all","yith-booking-for-woocommerce"),noItems:(0,s.__)("No items found.","yith-booking-for-woocommerce"),noResults:(0,s.__)("No results for %s","yith-booking-for-woocommerce"),search:(0,s.__)("Search for items","yith-booking-for-woocommerce"),selected:e=>(0,s.sprintf)(
// translators: Number of items selected from list.
// translators: Number of items selected from list.
(0,s._n)("%d item selected","%d items selected",e,"yith-booking-for-woocommerce"),e)},w=({className:e,search:o,onSearch:t,onChange:r,selected:l,isLoading:i,list:a,ifFirstLoading:d,messages:u})=>{const[h,b]=(0,m.useState)(!1),p=(0,m.useRef)(),g=(0,m.useRef)(),y={...k,...u},f=e=>{g.current.contains(e.target)||b(!1)};(0,m.useEffect)((()=>(document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f))));const w=a.filter((e=>l.includes(e.id))),_=a.filter((e=>e.name.toLowerCase().indexOf(o.toLowerCase())>=0)),x=e=>{const o=[...l].filter((o=>o!==e));r(o)};return(0,n.jsxs)("div",{className:"yith-wcbk-search-list-control",children:[(0,n.jsx)("div",{className:"yith-wcbk-search-list-control__selected-header",children:d?(0,n.jsx)(c.Spinner,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"yith-wcbk-search-list-control__selected-header__count",children:y.selected(w.length)}),(0,n.jsx)(c.Button,{isLink:!0,onClick:()=>{r([])},children:y.clear})]})}),(0,n.jsx)("div",{className:"yith-wcbk-search-list-control__selected-items",children:w.map((e=>(0,n.jsxs)("span",{className:"yith-wcbk-search-list-control__selected-item",children:[e.name,(0,n.jsx)("span",{className:"yith-wcbk-search-list-control__selected-item__remove yith-icon yith-icon-close",onClick:()=>{x(e.id)}})]},e.id)))}),(0,n.jsxs)("div",{className:"yith-wcbk-search-list-control__search-and-suggestions",ref:g,children:[(0,n.jsx)("input",{ref:p,className:"yith-wcbk-search-list-control__search",value:o,onChange:e=>t(e.target.value),onFocus:()=>b(!0),placeholder:y.search}),h&&(0,n.jsx)("div",{className:`yith-wcbk-search-list-control__suggestions ${i&&"loading"} ${!_.length&&"no-results"}`,children:i?(0,n.jsx)("div",{className:"yith-wcbk-search-list-control__suggestions__message",children:(0,s.__)("Loading...","yith-booking-for-woocommerce")}):_.length?_.map((e=>{const o=l.includes(e.id),t=o?"selected":"";return(0,n.jsxs)("span",{className:`yith-wcbk-search-list-control__suggestion ${t}`,onClick:()=>{var t;o||(t=e.id,r([...l,t]),p.current.focus())},children:[e.name,o&&(0,n.jsx)("span",{className:"yith-wcbk-search-list-control__suggestion__remove yith-icon yith-icon-close",onClick:()=>{x(e.id)}})]},e.id)})):(0,n.jsx)("div",{className:"yith-wcbk-search-list-control__suggestions__message",children:a.length&&o?(0,s.sprintf)(y.noResults,o):y.noItems})})]})]})};w.propTypes={className:u().string,isLoading:u().bool,list:u().arrayOf(u().shape({id:u().number,name:u().string})),messages:u().shape({clear:u().string,noItems:u().string,noResults:u().string,search:u().string,selected:u().func}),onChange:u().func.isRequired,onSearch:u().func,selected:u().array.isRequired,search:u().string,ifFirstLoading:u().bool},w.defaultProps={selected:[],className:"",list:[],onSearch:()=>{},isLoading:!1,ifFirstLoading:!1};const _=f(w),x=({label:e,className:o,onChange:t,selected:r})=>{const l=bkBlocks.productCount>100,i=`inspector-yith-wcbk-products-control-${(0,h.useInstanceId)(x)}`;return(0,n.jsx)(c.BaseControl,{label:e,id:i,className:`yith-wcbk-products-control__wrap ${o}`,children:(0,n.jsx)(_,{messages:{clear:(0,s.__)("Clear all","yith-booking-for-woocommerce"),noItems:(0,s.__)("No products found.","yith-booking-for-woocommerce"),noResults:(0,s.__)("No results for %s","yith-booking-for-woocommerce"),search:(0,s.__)("Search products...","yith-booking-for-woocommerce"),selected:e=>(0,s.sprintf)(
// translators: Number of products selected from list.
// translators: Number of products selected from list.
(0,s._n)("%d product selected","%d products selected",e,"yith-booking-for-woocommerce"),e)},onChange:t,selected:r,loadItems:y,asyncSearch:l})})};x.propTypes={onChange:u().func.isRequired,selected:u().array},x.defaultProps={selected:[],label:"",className:""};const v=x,C=({selected:e=[],search:o="",queryArgs:t={}})=>{const r=(({selected:e=[],search:o="",queryArgs:t={}})=>{const r=bkBlocks.categoryCount>100,s={per_page:r?100:0,hide_empty:!0,search:o,orderby:"name",order:"asc"},n=[(0,a.addQueryArgs)("/wc/store/products/categories",{...s,...t})];return r&&e.length&&n.push((0,a.addQueryArgs)("/wc/store/products/categories",{hide_empty:!0,include:e,per_page:0})),n})({selected:e,search:o,queryArgs:t});return Promise.all(r.map((e=>p()({path:e})))).then((e=>(0,g.uniqBy)((0,g.flatten)(e),"id").map((e=>({...e,parent:0}))))).catch((e=>{throw e}))},j=({label:e,className:o,onChange:t,selected:r})=>{const l=bkBlocks.categoryCount>100,i=`inspector-yith-wcbk-categories-control-${(0,h.useInstanceId)(j)}`;return(0,n.jsx)(c.BaseControl,{label:e,id:i,className:`yith-wcbk-categories-control__wrap ${o}`,children:(0,n.jsx)(_,{messages:{clear:(0,s.__)("Clear all","yith-booking-for-woocommerce"),noItems:(0,s.__)("No categories found.","yith-booking-for-woocommerce"),noResults:(0,s.__)("No results for %s","yith-booking-for-woocommerce"),search:(0,s.__)("Search categories...","yith-booking-for-woocommerce"),selected:e=>(0,s.sprintf)(
// translators: Number of products selected from list.
// translators: Number of products selected from list.
(0,s._n)("%d category selected","%d categories selected",e,"yith-booking-for-woocommerce"),e)},onChange:t,selected:r,loadItems:C,asyncSearch:l})})};j.propTypes={onChange:u().func.isRequired,selected:u().array},j.defaultProps={selected:[],label:"",className:""};const B=j;var N=t(942),T=t.n(N);const S=window.wp.element;function P({className:e,title:o,attributes:t,context:r,block:s}){const l=(0,S.useRef)(),[i,d]=(0,S.useState)(!1),u=(0,a.addQueryArgs)(bkBlocks.siteURL,{"yith-wcbk-block-preview":1,"yith-wcbk-block-preview-nonce":bkBlocks.previewNonce,attributes:t,context:r,block:s}),h=T()("yith-wcbk-blocks__edit-preview-iframe",!i&&"yith-wcbk-blocks__edit-preview-iframe--is-loading",e);return(0,S.useEffect)((()=>{d(!1)}),[u]),(0,S.useEffect)((()=>{if(!l||!l.current||!i)return;const e=l.current,o=()=>{const e=l.current,o=Math.max(e.contentDocument.documentElement.offsetHeight,e.contentDocument.body.offsetHeight);e.style.height=`${o}px`},{IntersectionObserver:t,ResizeObserver:r}=e.ownerDocument.defaultView,s=new t((([e])=>{e.isIntersecting&&o()}),{threshold:1});s.observe(e);const n=!!r&&new r((()=>o()));return n&&n.observe(e),e.addEventListener("load",o),()=>{s.disconnect(),n&&n.disconnect(),e.removeEventListener("load",o)}}),[i]),(0,n.jsxs)(n.Fragment,{children:[!i&&(0,n.jsx)("div",{className:"yith-wcbk-blocks__edit-preview-iframe__loading-placeholder",children:(0,n.jsx)(c.Spinner,{style:{width:28,height:28}})}),(0,n.jsx)("iframe",{ref:l,className:h,title:o,src:u,onLoad:e=>{e.target.contentDocument.body.style.overflow="hidden",d(!0)},height:100})]})}P.propTypes={className:u().string,title:u().string.isRequired,block:u().string.isRequired,attributes:u().object,context:u().object},P.defaultProps={className:"",attributes:{},context:{}};const R=P,I={type:{type:"string",default:"newest"},columns:{type:"number",default:parseInt(bkBlocks.defaultProductsPerRow,10)},rows:{type:"number",default:1},product_ids:{type:"array",default:[]},categories:{type:"array",default:[]}};bkBlocks.isPremium&&(0,r.registerBlockType)("yith/wcbk-booking-products",{title:(0,s._x)("Bookable Products","Block name","yith-booking-for-woocommerce"),icon:l,category:"yith-blocks",example:{},attributes:I,edit:function({context:e,attributes:o,className:t,setAttributes:r}){const{type:l,columns:a,rows:d,product_ids:u,categories:h}=o;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.InspectorControls,{children:[(0,n.jsx)(c.PanelBody,{children:(0,n.jsx)(c.SelectControl,{label:(0,s._x)("Type","Bookable Products block","yith-booking-for-woocommerce"),value:l,onChange:e=>r({type:e}),options:[{label:(0,s._x)("Newest","Bookable Products block types","yith-booking-for-woocommerce"),value:"newest"},{label:(0,s._x)("Hand-picked products","Bookable Products block types","yith-booking-for-woocommerce"),value:"hand-picked"},{label:(0,s._x)("Product categories","Bookable Products block types","yith-booking-for-woocommerce"),value:"categories"},{label:(0,s._x)("Top rated","Bookable Products block types","yith-booking-for-woocommerce"),value:"top-rated"}]})}),"hand-picked"===l&&(0,n.jsx)(c.PanelBody,{title:(0,s._x)("Products","Bookable Products block panel title","yith-booking-for-woocommerce"),children:(0,n.jsx)(v,{selected:u,onChange:e=>{r({product_ids:e})}})}),"categories"===l&&(0,n.jsx)(c.PanelBody,{title:(0,s._x)("Categories","Bookable Products block panel title","yith-booking-for-woocommerce"),children:(0,n.jsx)(B,{selected:h,onChange:e=>{r({categories:e})}})}),(0,n.jsxs)(c.PanelBody,{title:(0,s._x)("Layout","Bookable Products block panel title","yith-booking-for-woocommerce"),children:[(0,n.jsx)(c.RangeControl,{label:(0,s._x)("Columns","Bookable Products block","yith-booking-for-woocommerce"),value:a,onChange:e=>r({columns:e}),min:1,max:6}),(0,n.jsx)(c.RangeControl,{label:(0,s._x)("Rows","Bookable Products block","yith-booking-for-woocommerce"),value:d,onChange:e=>r({rows:e}),min:1,max:6})]})]}),(0,n.jsx)("div",{className:t,children:(0,n.jsx)(c.Disabled,{children:(0,n.jsx)(R,{className:"yith-wcbk-booking-products-block__edit-preview-iframe",title:(0,s._x)("Bookable Products","Block name","yith-booking-for-woocommerce"),block:"booking-products",attributes:o,context:e})})})]})},save:()=>null});const O=f((({onSearch:e,list:o,selected:t,...r})=>{const s=o.map((e=>({value:e.id,label:e.name})));return(0,n.jsx)(c.ComboboxControl,{...r,value:t,options:s,onFilterValueChange:e})}));function F({...e}){return bkBlocks.productCount,(0,n.jsx)(O,{...e,loadItems:y,asyncSearch:!0})}function A({className:e,label:o,onChange:t,value:r,help:s,palette:l,clearable:a,defaultValue:d,enableAlpha:u}){l=l||(0,i.useSetting)("color.palette");const m=`inspector-yith-wcbk-color-control-${(0,h.useInstanceId)(A)}`;return(0,n.jsx)(c.BaseControl,{id:m,className:T()("block-editor-yith-wcbk-color-control",e),help:s,children:(0,n.jsx)(c.Dropdown,{className:"block-editor-yith-wcbk-color-control__dropdown",popoverProps:{position:"bottom center"},renderToggle:({onToggle:e,isOpen:t})=>{const s=T()("block-editor-yith-wcbk-color-control__toggle",{"is-open":t});return(0,n.jsxs)("div",{className:s,onClick:e,children:[(0,n.jsx)("label",{className:"block-editor-yith-wcbk-color-control__label",children:o}),(0,n.jsx)(c.ColorIndicator,{className:"block-editor-yith-wcbk-color-control__color-indicator",colorValue:r})]})},renderContent:({onClose:e})=>{const o=o=>{t(o),void 0===o&&e()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.ColorPicker,{color:r,onChange:o,colors:l,clearable:!1,defaultValue:d,enableAlpha:u}),(0,n.jsx)(c.ColorPalette,{colors:l,value:r,clearable:a,onChange:o,disableCustomColors:!0})]})}})})}const E=(0,m.forwardRef)((({type:e,value:o,onChange:t,startAdornment:r,endAdornment:s,className:l,...c},i)=>{const[a,d]=(0,m.useState)(!1),u=T()("yith-wcbk-components-input",{"is-focused":a},l);return(0,n.jsxs)("div",{className:u,children:[r,(0,n.jsx)("input",{...c,ref:i,className:"yith-wcbk-components-input__field",type:e,value:o,onChange:e=>{let o=e.target.value;t(o)},onFocus:()=>d(!0),onBlur:()=>d(!1),autoComplete:"off"}),s,(0,n.jsx)("span",{className:"yith-wcbk-components-input__backdrop"})]})}));E.displayName="Input",E.propTypes={className:u().string,type:u().string,value:u().oneOfType([u().string,u().number]),onChange:u().func,startAdornment:u().oneOfType([u().element,u().string]),endAdornment:u().oneOfType([u().element,u().string])},E.defaultProps={className:"",type:"text",value:"",onChange:g.noop};const L=E;function q({className:e,label:o,onChange:t,value:r,help:s,isCompact:l}){const i=`inspector-yith-wcbk-unit-control-${(0,h.useInstanceId)(q)}`;return(0,n.jsx)(c.BaseControl,{id:i,label:o,className:T()("block-editor-yith-wcbk-unit-control",{"is-compact":l},e),help:s,children:(0,n.jsx)("div",{className:"block-editor-yith-wcbk-unit-control__container",children:(0,n.jsx)(L,{type:"number",min:0,value:r,onChange:e=>t(parseFloat(e)),endAdornment:(0,n.jsx)("span",{className:"block-editor-yith-wcbk-unit-control__unit",children:"PX"})})})})}function D({onChange:e,value:o}){const t=(0,i.useSetting)("color.palette");return(0,n.jsx)(c.Dropdown,{className:"block-editor-yith-wcbk-border-control-color-dropdown",renderToggle:({onToggle:e,isOpen:t})=>{const r=T()("block-editor-yith-wcbk-border-control-color-dropdown__toggle",{"is-open":t});return(0,n.jsx)(c.Button,{className:r,onClick:e,variant:"tertiary",children:(0,n.jsx)(c.ColorIndicator,{className:"block-editor-yith-wcbk-border-control-color-dropdown__color-indicator",colorValue:o})})},renderContent:({onClose:r})=>{const s=o=>{e(o),void 0===o&&r()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.ColorPicker,{color:o,onChange:s,colors:t,clearable:!1,enableAlpha:!0}),(0,n.jsx)(c.ColorPalette,{colors:t,value:o,clearable:!1,onChange:s,disableCustomColors:!0})]})}})}const M=window.wp.primitives,H=(0,m.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(M.Path,{d:"M5 11.25h14v1.5H5z"})),V=(0,m.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(M.Path,{fillRule:"evenodd",d:"M5 11.25h3v1.5H5v-1.5zm5.5 0h3v1.5h-3v-1.5zm8.5 0h-3v1.5h3v-1.5z",clipRule:"evenodd"})),$=(0,m.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(M.Path,{fillRule:"evenodd",d:"M5.25 11.25h1.5v1.5h-1.5v-1.5zm3 0h1.5v1.5h-1.5v-1.5zm4.5 0h-1.5v1.5h1.5v-1.5zm1.5 0h1.5v1.5h-1.5v-1.5zm4.5 0h-1.5v1.5h1.5v-1.5z",clipRule:"evenodd"})),z=[{label:(0,s._x)("Solid","Border style","yith-booking-for-woocommerce"),icon:H,value:"solid"},{label:(0,s._x)("Dashed","Border style","yith-booking-for-woocommerce"),icon:V,value:"dashed"},{label:(0,s._x)("Dotted","Border style","yith-booking-for-woocommerce"),icon:$,value:"dotted"}];function W({onChange:e,value:o}){const t=z.find((e=>e.value===o));return(0,n.jsx)(c.Dropdown,{className:"block-editor-yith-wcbk-border-control-style-dropdown",focusOnMount:!0,renderToggle:({onToggle:e,isOpen:o})=>{const r=T()("block-editor-yith-wcbk-border-control-style-dropdown__toggle",{"is-open":o});return(0,n.jsx)(c.Button,{className:r,onClick:e,icon:t.icon,"aria-label":t.label,label:t.label,showTooltip:!0,variant:"tertiary"})},renderContent:({onClose:t})=>(0,n.jsx)(n.Fragment,{children:z.map((r=>(0,n.jsx)(c.Button,{onClick:()=>{return o=r.value,e(o),void t();var o},icon:r.icon,"aria-label":r.label,label:r.label,showTooltip:!0,isPressed:r.value===o},r.value)))})})}function U({onChange:e,value:o}){return(0,n.jsx)(L,{type:"number",min:"0",value:o,onChange:e,endAdornment:(0,n.jsx)("span",{className:"block-editor-yith-wcbk-border-control-width-input__unit",children:"PX"})})}function Q({className:e,label:o,onChange:t,value:r,help:s}){const l=`inspector-yith-wcbk-border-control-${(0,h.useInstanceId)(Q)}`,{color:i,style:a,width:d,radius:u}=r;return(0,n.jsx)(c.BaseControl,{id:l,label:o,className:T()("block-editor-yith-wcbk-border-control",e),children:(0,n.jsxs)("div",{className:"block-editor-yith-wcbk-border-control__container",children:[(0,n.jsx)(D,{value:i,onChange:e=>t({...r,color:e})}),(0,n.jsx)(W,{value:a,onChange:e=>t({...r,style:e})}),(0,n.jsx)(U,{value:d,onChange:e=>t({...r,width:e})})]})})}function G({initialOpen:e,styles:o,onChange:t}){const{textColor:r,backgroundColor:l,padding:i,border:a,borderRadius:d}=o,u=e=>{t({...o,...e})};return(0,n.jsxs)(c.PanelBody,{title:(0,s._x)("Style","Blocks - title","yith-booking-for-woocommerce"),initialOpen:e,children:[(0,n.jsx)(A,{label:(0,s.__)("Text color","yith-booking-for-woocommerce"),value:r,onChange:e=>u({textColor:e}),isRenderedInSidebar:!0,defaultValue:"#000000",enableAlpha:!0,clearable:!1}),(0,n.jsx)(A,{label:(0,s.__)("Background color","yith-booking-for-woocommerce"),value:l,onChange:e=>u({backgroundColor:e}),isRenderedInSidebar:!0,defaultValue:"#ffffff",enableAlpha:!0,clearable:!1}),(0,n.jsx)(q,{label:(0,s.__)("Padding","yith-booking-for-woocommerce"),onChange:e=>u({padding:e}),value:i,isCompact:!0}),(0,n.jsx)(Q,{label:(0,s.__)("Border","yith-booking-for-woocommerce"),onChange:e=>u({border:e}),value:a}),(0,n.jsx)(q,{label:(0,s.__)("Border radius","yith-booking-for-woocommerce"),onChange:e=>u({borderRadius:e}),value:d,isCompact:!0})]})}Q.defaultProps={className:"",label:"",value:{color:"#ddd",style:"solid",width:0,radius:0}};const X={attributes:{product_id:{type:"number",default:0},show_title:{type:"boolean",default:!1},title_tag:{type:"string",default:"h2"},show_reviews:{type:"boolean",default:!0},show_meta:{type:"boolean",default:!1},use_full_width_button:{type:"boolean",default:!0},text_color:{type:"string",default:"#000000"},background_color:{type:"string",default:"#ffffff"},padding:{type:"number",default:0}},migrate(e){const{product_id:o,show_title:t,title_tag:r,show_reviews:s,show_meta:n,use_full_width_button:l,text_color:c,background_color:i,padding:a}=e;return{productId:o,showTitle:t,titleTag:r,showReviews:s,showMeta:n,useFullWidthButton:l,textColor:c,backgroundColor:i,padding:a}},isEligible:e=>{const o=Object.keys((0,g.omit)(X.attributes,"padding"));return(0,g.intersection)(Object.keys(e),o).length>0},save:()=>null},Z=[X];(0,r.registerBlockType)("yith/wcbk-booking-form",{title:(0,s._x)("Booking form","Block name","yith-booking-for-woocommerce"),icon:l,category:"yith-blocks",example:{},attributes:{productId:{type:"number",default:0},showTitle:{type:"boolean",default:!1},titleTag:{type:"string",default:"h2"},showReviews:{type:"boolean",default:!0},showMeta:{type:"boolean",default:!1},useFullWidthButton:{type:"boolean",default:!0},textColor:{type:"string",default:"#000000"},backgroundColor:{type:"string",default:"#ffffff"},padding:{type:"number",default:20},border:{type:"object",default:{color:"#cccccc",style:"solid",width:0}},borderRadius:{type:"number",default:0}},deprecated:Z,edit:function({context:e,attributes:o,className:t,setAttributes:r}){const{productId:l,showTitle:a,titleTag:d,showReviews:u,showMeta:h,useFullWidthButton:m,textColor:b,backgroundColor:p,padding:g,border:y,borderRadius:f}=o;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.InspectorControls,{children:[(0,n.jsx)(c.PanelBody,{title:(0,s._x)("Product","Blocks - title","yith-booking-for-woocommerce"),children:(0,n.jsx)(F,{selected:l,onChange:e=>r({productId:e})})}),(0,n.jsxs)(c.PanelBody,{title:(0,s._x)("Elements","Blocks - title","yith-booking-for-woocommerce"),children:[(0,n.jsx)(c.ToggleControl,{label:(0,s.__)("Show title","yith-booking-for-woocommerce"),checked:!!a,onChange:e=>r({showTitle:e}),help:(0,s.__)("Enable to show the product title.","yith-booking-for-woocommerce")}),!!a&&(0,n.jsx)(c.SelectControl,{label:(0,s.__)("Title heading tag","yith-booking-for-woocommerce"),options:[{value:"h1",label:"H1"},{value:"h2",label:"H2"},{value:"h3",label:"H3"},{value:"h4",label:"H4"},{value:"h5",label:"H5"},{value:"h6",label:"H6"}],value:d,onChange:e=>r({titleTag:e}),help:(0,s.__)("Choose the HTML tag to use for the product title.","yith-booking-for-woocommerce")}),(0,n.jsx)(c.ToggleControl,{label:(0,s.__)("Show rating","yith-booking-for-woocommerce"),checked:!!u,onChange:e=>r({showReviews:e}),help:(0,s.__)("Enable to show the product rating.","yith-booking-for-woocommerce")}),(0,n.jsx)(c.ToggleControl,{label:(0,s.__)("Show meta","yith-booking-for-woocommerce"),checked:!!h,onChange:e=>r({showMeta:e}),help:(0,s.__)("Enable to show the meta section, containing SKU, categories and tags.","yith-booking-for-woocommerce")}),(0,n.jsx)(c.ToggleControl,{label:(0,s.__)("Use full-width button","yith-booking-for-woocommerce"),checked:!!m,onChange:e=>r({useFullWidthButton:e})})]}),(0,n.jsx)(G,{initialOpen:!1,styles:{textColor:b,backgroundColor:p,padding:g,border:y,borderRadius:f},onChange:e=>r(e)})]}),(0,n.jsx)("div",{className:t,children:(0,n.jsx)(c.Disabled,{children:(0,n.jsx)(R,{className:"yith-wcbk-booking-form-block__edit-preview-iframe",title:(0,s._x)("Booking Form","Block name","yith-booking-for-woocommerce"),block:"booking-form",attributes:o,context:e})})})]})},save:()=>null}),(0,r.registerBlockType)("yith/wcbk-bookable-product-form",{title:(0,s._x)("Bookable product form","Block name","yith-booking-for-woocommerce"),icon:l,category:"yith-blocks",example:{},attributes:{showReviews:{type:"boolean",default:!0},useFullWidthButton:{type:"boolean",default:!0},isFixedOnMobile:{type:"boolean",default:!0},textColor:{type:"string",default:"#000000"},backgroundColor:{type:"string",default:"#ffffff"},padding:{type:"number",default:20},border:{type:"object",default:{color:"#cccccc",style:"solid",width:0}},borderRadius:{type:"number",default:0}},edit:function({context:e,attributes:o,className:t,setAttributes:r}){const{isFixedOnMobile:l,showReviews:a,useFullWidthButton:d,textColor:u,backgroundColor:h,padding:m,border:b,borderRadius:p}=o,{postType:g,templateSlug:y}=e,[f,k]=(0,S.useState)(!1),w=(0,S.useMemo)((()=>"product"!==g&&!y&&!f),[y,g,f]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.InspectorControls,{children:[(0,n.jsxs)(c.PanelBody,{title:(0,s._x)("Layout","Blocks - title","yith-booking-for-woocommerce"),children:[(0,n.jsx)(c.ToggleControl,{label:(0,s.__)("Show rating","yith-booking-for-woocommerce"),checked:!!a,onChange:e=>r({showReviews:e})}),(0,n.jsx)(c.ToggleControl,{label:(0,s.__)("Use full-width button","yith-booking-for-woocommerce"),checked:!!d,onChange:e=>r({useFullWidthButton:e})}),(0,n.jsx)(c.ToggleControl,{label:(0,s.__)("Use compact view on mobile","yith-booking-for-woocommerce"),checked:!!l,onChange:e=>r({isFixedOnMobile:e})})]}),(0,n.jsx)(G,{initialOpen:!0,styles:{textColor:u,backgroundColor:h,padding:m,border:b,borderRadius:p},onChange:e=>r(e)})]}),(0,n.jsxs)("div",{className:t,children:[w&&(0,n.jsxs)(c.Notice,{isDismissible:!0,onDismiss:()=>k(!0),status:"warning",children:[(0,n.jsx)("div",{children:(0,s.__)("This block will render the current product's booking form, so you should use it on single product pages or in a template rendered on the single product pages.","yith-booking-for-woocommerce")}),(0,n.jsx)("div",{children:(0,s.__)('If you are using it on a page/post and you want to show a specific product\'s booking form, please consider using the "Booking form" block instead.',"yith-booking-for-woocommerce")})]}),(0,n.jsx)(c.Disabled,{children:(0,n.jsx)(R,{className:"yith-wcbk-booking-form-block__edit-preview-iframe",title:(0,s._x)("Bookable product form","Block name","yith-booking-for-woocommerce"),block:"bookable-product-form",attributes:o,context:e})})]})]})},usesContext:["postId","postType","templateSlug"],save:()=>null});const J=window.yithBookingUI.components;var K,Y;window;const ee=null!==(K=window?.bkBlocks?.postTypeRestBases)&&void 0!==K?K:{},oe=null!==(Y=window?.bkBlocks?.postTypeCounts)&&void 0!==Y?Y:{},te=e=>{var o;return(null!==(o=oe[e])&&void 0!==o?o:101)>100},re={},se={},ne=(e={})=>{const{postType:o="post"}=e,t=(({postType:e="post",selected:o=[],search:t="",limit:r,onlySelected:s=!1})=>{const n=[],l=(e=>{var o;return`/wp/v2/${null!==(o=ee[e])&&void 0!==o?o:"posts"}`})(e);return s||n.push((0,a.addQueryArgs)(l,{per_page:null!=r?r:100,search:t,orderby:"title",order:"asc",_fields:["id","title"]})),te(e)&&o.length&&n.push((0,a.addQueryArgs)(l,{type:"booking",include:o,per_page:100,_fields:["id","title"]})),n})(e),r=!(te(o)||e?.search||e?.onlySelected||e?.limit);if(r){if(re[o])return new Promise((e=>{e(re[o])}));if(se[o])return se[o]}const s=Promise.all(t.map((e=>p()({path:e})))).then((e=>{const t=(0,g.uniqBy)((0,g.flatten)(e),"id").map((e=>({...e,title:e.title.rendered})));return r&&(re[o]=t),t})).catch((e=>{throw e}));return r&&(se[o]=s),s};function le({value:e,onChange:o,postType:t,...r}){const[l,c]=(0,m.useState)(!0),[i,a]=(0,m.useState)(!0),[d,u]=(0,m.useState)([]),[h,b]=(0,m.useState)(""),p=(0,m.useRef)(null),g=(0,m.useMemo)((()=>l?"":h?(0,s.sprintf)((0,s.__)('No results for "%s".',"yith-booking-for-woocommerce"),h):(0,s.__)("Type to search...","yith-booking-for-woocommerce")),[h,l]);(0,m.useEffect)((()=>{var o;te(t)&&!i&&h&&(c(!0),o=h,p.current&&clearTimeout(p.current),p.current=setTimeout((()=>{ne({postType:t,selected:[e],search:o}).then((e=>{u(e),c(!1),a(!1)}))}),300))}),[h]),(0,m.useEffect)((()=>{if(e||!te(t)){const o={postType:t,selected:[e],onlySelected:te(t)};te(t)&&(o.limit=20),ne(o).then((e=>{u(e),c(!1),a(!1)}))}else c(!1),a(!1)}),[]);const y=d.map((e=>({value:e.id,label:e.title})));return(0,n.jsx)(J.Select,{...r,options:y,isLoading:l,allowSearch:!0,onSearch:e=>b(e),loadingText:(0,s.__)("Searching...","yith-booking-for-woocommerce"),noOptionsText:g,noResultsText:g,value:e,onChange:o})}const ce=(0,s._x)("Booking Search Form","Block name","yith-booking-for-woocommerce"),ie=(0,s._x)("Render a search form to allow customers to search for bookable products.","Block description","yith-booking-for-woocommerce");bkBlocks.isSearchFormModuleActive&&(0,r.registerBlockType)("yith/wcbk-search-form",{title:ce,description:ie,icon:l,category:"yith-blocks",attributes:{searchFormId:{type:"number",default:0}},edit:function({context:e,attributes:o,className:t,setAttributes:r}){var a;const d=parseInt(null!==(a=o?.searchFormId)&&void 0!==a?a:0,10),[u,h]=(0,m.useState)(!d),b=e=>{e?r({searchFormId:e}):(h(!0),r({searchFormId:0}))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.BlockControls,{children:(0,n.jsx)(c.ToolbarGroup,{controls:[{icon:"edit",title:(0,s.__)("Edit selected search form","yith-booking-for-woocommerce"),onClick:()=>h((e=>!e)),isActive:u}]})}),(0,n.jsx)(i.InspectorControls,{children:(0,n.jsx)(c.PanelBody,{title:(0,s.__)("Search Form","yith-booking-for-woocommerce"),children:(0,n.jsx)(c.BaseControl,{label:(0,s.__)("Select the search form","yith-booking-for-woocommerce"),children:(0,n.jsx)(le,{postType:"searchForm",value:d,onChange:e=>b(e),width:"100%"})})})}),(0,n.jsx)("div",{className:t,children:u?(0,n.jsx)(c.Placeholder,{icon:l,label:ce,instructions:ie,children:(0,n.jsxs)("div",{className:"yith-wcbk-search-form-block__search-form-selection",children:[(0,n.jsxs)("div",{className:"yith-wcbk-search-form-block__search-form-selection__control",children:[(0,n.jsx)("div",{className:"yith-wcbk-search-form-block__search-form-selection__control__label",children:(0,s.__)("Select the search form you want to display","yith-booking-for-woocommerce")}),(0,n.jsx)("div",{className:"yith-wcbk-search-form-block__search-form-selection__control__field",children:(0,n.jsx)(le,{postType:"searchForm",value:d,onChange:e=>b(e),width:"100%"})})]}),(0,n.jsx)(c.Button,{isPrimary:!0,onClick:()=>h(!1),children:(0,s.__)("Done","yith-booking-for-woocommerce")})]})}):(0,n.jsx)(c.Disabled,{children:(0,n.jsx)(R,{className:"yith-wcbk-search-form-block__edit-preview-iframe",title:ce,block:"search-form",attributes:o,context:e})})})]})},usesContext:["postId","postType","templateSlug"],save:()=>null})},694:(e,o,t)=>{"use strict";var r=t(925);function s(){}function n(){}n.resetWarningCache=s,e.exports=function(){function e(e,o,t,s,n,l){if(l!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function o(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:o,element:e,elementType:e,instanceOf:o,node:e,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:s};return t.PropTypes=t,t}},556:(e,o,t)=>{e.exports=t(694)()},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},942:(e,o)=>{var t;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e="",o=0;o<arguments.length;o++){var t=arguments[o];t&&(e=l(e,n(t)))}return e}function n(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var o="";for(var t in e)r.call(e,t)&&e[t]&&(o=l(o,t));return o}function l(e,o){return o?e?e+" "+o:e+o:e}e.exports?(s.default=s,e.exports=s):void 0===(t=function(){return s}.apply(o,[]))||(e.exports=t)}()}},t={};function r(e){var s=t[e];if(void 0!==s)return s.exports;var n=t[e]={exports:{}};return o[e](n,n.exports,r),n.exports}r.m=o,e=[],r.O=(o,t,s,n)=>{if(!t){var l=1/0;for(d=0;d<e.length;d++){for(var[t,s,n]=e[d],c=!0,i=0;i<t.length;i++)(!1&n||l>=n)&&Object.keys(r.O).every((e=>r.O[e](t[i])))?t.splice(i--,1):(c=!1,n<l&&(l=n));if(c){e.splice(d--,1);var a=s();void 0!==a&&(o=a)}}return o}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[t,s,n]},r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};r.O.j=o=>0===e[o];var o=(o,t)=>{var s,n,[l,c,i]=t,a=0;if(l.some((o=>0!==e[o]))){for(s in c)r.o(c,s)&&(r.m[s]=c[s]);if(i)var d=i(r)}for(o&&o(t);a<l.length;a++)n=l[a],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},t=globalThis.webpackChunkyith_woocommerce_booking_premium=globalThis.webpackChunkyith_woocommerce_booking_premium||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var s=r.O(void 0,[350],(()=>r(358)));s=r.O(s)})();